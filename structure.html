<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plática • Structure Init</title>
  <style>
    :root{
      /* Set your placeholder dimensions here if you want fixed sizes.
         BIG = pronoun slots (***x***), SMALL = object slots (***x***).
         Example: --BIG-W: 200px; --BIG-H: 200px; --SMALL-W: 120px; --SMALL-H: 120px;
      */
      --BIG-W: clamp(100px,12vw,200px);
      --BIG-H: clamp(100px,12vw,200px);
      --SMALL-W: clamp(60px,6.5vw,100px);
      --SMALL-H: clamp(60px,6.5vw,100px);
      --GAP: min(2vw,16px);
    }
    html,body{height:100%;margin:0;font-family:system-ui}
    .center{display:grid;place-items:center;height:100vh}
  </style>
</head>
<body>
  <div class="center"><h2>Setting up structure…</h2></div>
  <script>
  (() => {
    // Module: structure — defines ONLY slot layout + sizes, then hands off.
    const V = 'tdi.v2.';

    // Define 7 pronoun slots (no main slot): 3 on top row (centered), 4 on bottom row (centered)
    const pronounFrames = Array.from({length:7}, (_,i) => ({ id: `p-${i+1}` }));

    // Define 10 object slots: 5 on far left column, 5 on far right column
    const objectFrames  = Array.from({length:10}, (_,i) => ({ id: `o-${i+1}` }));

    // Dimensions per spec (hooked to CSS vars so you can set ***x*** easily)
    const BIG = { w: getComputedStyle(document.documentElement).getPropertyValue('--BIG-W').trim(),
                  h: getComputedStyle(document.documentElement).getPropertyValue('--BIG-H').trim() };
    const SMALL = { w: getComputedStyle(document.documentElement).getPropertyValue('--SMALL-W').trim(),
                    h: getComputedStyle(document.documentElement).getPropertyValue('--SMALL-H').trim() };

    const layoutSpec = {
      version: '2',
      pronounFrames, // 7
      objectFrames,  // 10
      sizes: { BIG, SMALL },
      gap: getComputedStyle(document.documentElement).getPropertyValue('--GAP').trim()
    };

    sessionStorage.setItem(V+'layoutSpec', JSON.stringify(layoutSpec));
    sessionStorage.setItem(V+'structure', '1');
    location.replace('./buttons.html');
  })();
  </script>
</body>
</html>
