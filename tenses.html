<!-- FILE: buttons.html -->
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plática • Selección de tiempos</title>
  <style>
    :root{--pad:12px; --radius:14px}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;background:#f6f7f9;color:#111}
    header{padding:16px}
    h1{margin:0 0 6px 0;font-size:1.1rem}
    p.sub{margin:0;color:#667085;font-size:.95rem}

    /* The bar */
    .bar{
      display:flex; gap:10px; overflow-x:auto; padding:10px 12px;
      background:#fff; border-top:1px solid #e6e7eb; border-bottom:1px solid #e6e7eb;
    }
    .btn{
      flex:0 0 auto; padding:10px 14px; border:1px solid #d0d5dd; border-radius:12px;
      background:#fff; font-weight:600; cursor:pointer; user-select:none;
    }
    .btn:active{transform:translateY(1px)}
    .primary{background:#0ea5e9; border-color:#0ea5e9; color:#fff}
    .disabled{opacity:.6}

    main{padding:14px}
    .hint{font-size:.95rem; color:#475467}
    /* Simple modal */
    .modal{
      position:fixed; inset:0; display:none; align-items:center; justify-content:center;
      background:rgba(0,0,0,.35); padding:20px;
    }
    .dialog{
      background:#fff; border-radius:14px; padding:18px; width:min(420px,90vw);
      border:1px solid #e6e7eb; box-shadow:0 10px 28px rgba(0,0,0,.12)
    }
    .dialog h2{margin:0 0 8px 0; font-size:1.05rem}
    .dialog p{margin:0 0 14px 0; color:#475467}
    .dialog .ok{display:inline-flex; padding:10px 14px; border-radius:10px; border:1px solid #d0d5dd; background:#fff; font-weight:600}
  </style>
</head>
<body>
  <header>
    <h1>Elige el tiempo</h1>
    <p class="sub">Por ahora, solo <strong>NOW</strong> está activo.</p>
  </header>

  <!-- The button bar -->
  <nav class="bar" id="tenseBar" aria-label="Selector de tiempos"></nav>

  <!-- Not ready modal -->
  <div class="modal" id="notReady">
    <div class="dialog">
      <h2>No está listo todavía</h2>
      <p>Este módulo aún no está disponible. Pulsa <strong>OK</strong> para continuar.</p>
      <button class="ok" onclick="closeNotReady()">OK</button>
    </div>
  </div>

  <script>
    // Safe defaults so the page works even if index didn't set anything
    if (!sessionStorage.getItem('mode')) sessionStorage.setItem('mode','platica');

    // Define the time/tense options. Only "práctico" is ready today.
    const options = [
      { id:'practico',   label:'NOW',   ready:true,  action: goPractical },
     // { id:'presente',   label:'Present',   ready:false },
      { id:'pretérito',  label:'In the past',  ready:false },
      { id:'imperfecto', label:'Used to', ready:false },
      { id:'futuro',     label:'In the Future',     ready:false },
      { id:'condicional',label:'Maybe',ready:false },
      { id:'perfecto',   label:'Have done',   ready:false },
      { id:'Chat',   label:'chat',   ready:false },

    ];

    // Paint the buttons
    const bar = document.getElementById('tenseBar');
    options.forEach(opt=>{
      const b = document.createElement('button');
      b.className = 'btn' + (opt.ready ? ' primary' : '');
      b.textContent = opt.label;
      b.setAttribute('aria-label', opt.label);
      b.onclick = () => opt.ready ? (opt.action ? opt.action() : goNotReady()) : goNotReady();
      bar.appendChild(b);
    });

    // Actions
    function goPractical(){
      sessionStorage.setItem('timeMode','practical');     // used by downstream pages
      sessionStorage.setItem('tense','practico');
      // Send to the structure page (the rest of the flow hooks in there)
      location.href = './director.html';
    }
    function goNotReady(){ document.getElementById('notReady').style.display='flex'; }
    function closeNotReady(){ document.getElementById('notReady').style.display='none'; }

    // Visible fallback if JS somehow fails (shouldn’t happen, but helpful when testing)
    document.addEventListener('DOMContentLoaded', () => {
      if (!bar.children.length){
        const warn = document.createElement('div');
        warn.style.cssText = 'padding:12px;color:#b45309;background:#fffbe6;border:1px solid #f0b429;margin:12px;border-radius:10px';
        warn.innerHTML = 'No se pudieron crear los botones. Verifica que este archivo no use <code>type="module"</code> y que el nombre sea <strong>buttons.html</strong>.';
        document.body.appendChild(warn);
      }
    });
  </script>
</body>
</html>